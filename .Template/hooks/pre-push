#!/bin/sh
# 推送前自动同步 Docs 到公开仓库

branch=$(git symbolic-ref --short HEAD)
if git diff origin/$branch...HEAD --name-only 2>/dev/null | grep -qE '^Docs/'; then
    echo "Docs changed, syncing..."
    python .Template/SyncDocs.py || { echo "Sync failed, push cancelled"; exit 1; }
    echo "Sync done"
fi
